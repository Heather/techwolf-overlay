diff -up ./makefile.org ./makefile
--- ./makefile.org	2013-12-28 18:00:56.000000000 -0500
+++ ./makefile	2013-12-28 18:11:55.000000000 -0500
@@ -330,15 +330,15 @@ endif
 
 # compiler, linker and utilities
 ifneq ($(TARGETOS),emscripten)
-AR = @ar
-CC = @gcc
-LD = @g++
+AR ?= @ar
+CC ?= @gcc
+LD ?= @g++
 endif
 MD = -mkdir$(EXE)
 RM = @rm -f
 OBJDUMP = @objdump
-PYTHON = @python
-
+PYTHON ?= @python
+PKG_CONFIG ?= pkg-config
 
 #-------------------------------------------------
 # form the name of the executable
@@ -480,7 +480,7 @@ CPPONLYFLAGS =
 
 # CFLAGS is defined based on C or C++ targets
 # (remember, expansion only happens when used, so doing it here is ok)
-CFLAGS = $(CCOMFLAGS) $(CPPONLYFLAGS)
+CFLAGS += $(CCOMFLAGS) $(CPPONLYFLAGS)
 
 # we compile C-only to C89 standard with GNU extensions
 # we compile C++ code to C++98 standard with GNU extensions
@@ -488,9 +488,6 @@ CONLYFLAGS += -std=gnu89
 CPPONLYFLAGS += -x c++ -std=gnu++98
 COBJFLAGS += -x objective-c++
 
-# this speeds it up a bit by piping between the preprocessor/compiler/assembler
-CCOMFLAGS += -pipe
-
 # add -g if we need symbols, and ensure we have frame pointers
 ifdef SYMBOLS
 CCOMFLAGS += -g$(SYMLEVEL) -fno-omit-frame-pointer
@@ -512,22 +509,6 @@ ifdef PROFILE
 CCOMFLAGS += -pg
 endif
 
-# add the optimization flag
-CCOMFLAGS += -O$(OPTIMIZE)
-
-# add the error warning flag
-ifndef NOWERROR
-CCOMFLAGS += -Werror
-endif
-
-# if we are optimizing, include optimization options
-ifneq ($(OPTIMIZE),0)
-CCOMFLAGS += -fno-strict-aliasing $(ARCHOPTS)
-ifdef LTO
-CCOMFLAGS += -flto
-endif
-endif
-
 # add a basic set of warnings
 CCOMFLAGS += \
 	-Wall \
@@ -615,14 +596,6 @@ endif
 
 # LDFLAGS are used generally; LDFLAGSEMULATOR are additional
 # flags only used when linking the core emulator
-LDFLAGS =
-ifneq ($(TARGETOS),macosx)
-ifneq ($(TARGETOS),os2)
-ifneq ($(TARGETOS),solaris)
-LDFLAGS = -Wl,--warn-common
-endif
-endif
-endif
 LDFLAGSEMULATOR =
 
 # add profiling information for the linker
@@ -630,13 +603,6 @@ ifdef PROFILE
 LDFLAGS += -pg
 endif
 
-# strip symbols and other metadata in non-symbols and non profiling builds
-ifndef SYMBOLS
-ifneq ($(TARGETOS),macosx)
-LDFLAGS += -s
-endif
-endif
-
 ifneq ($(OPTIMIZE),0)
 ifdef LTO
 LDFLAGS += -flto
diff -up ./src/osd/sdl/sdl.mak.org ./src/osd/sdl/sdl.mak
--- ./src/osd/sdl/sdl.mak.org	2013-12-28 18:00:56.000000000 -0500
+++ ./src/osd/sdl/sdl.mak	2013-12-28 18:23:55.000000000 -0500
@@ -24,6 +24,8 @@
 # uncomment and edit next line to specify a distribution
 # supported debian-stable, ubuntu-intrepid
 
+PKG_CONFIG ?= pkg-config
+
 # DISTRO = debian-stable
 # DISTRO = ubuntu-intrepid
 # DISTRO = gcc44-generic
@@ -90,9 +92,9 @@ SDL_LIBVER = sdl
 endif
 
 ifdef SDL_INSTALL_ROOT
-SDL_CONFIG = $(SDL_INSTALL_ROOT)/bin/$(SDL_LIBVER)-config
+SDL_CONFIG ?= $(SDL_INSTALL_ROOT)/bin/$(SDL_LIBVER)-config
 else
-SDL_CONFIG = $(SDL_LIBVER)-config
+SDL_CONFIG ?= $(SDL_LIBVER)-config
 endif
 
 ifeq ($(SDL_LIBVER),sdl2)
@@ -189,8 +191,8 @@ SYNC_IMPLEMENTATION = tc
 SDL_NETWORK = taptun
 
 ifndef NO_USE_MIDI
-INCPATH += `pkg-config --cflags alsa`
-LIBS += `pkg-config --libs alsa`
+INCPATH += $(shell $(PKG_CONFIG) --cflags alsa)
+LIBS += $(shell $(PKG_CONFIG) --libs alsa)
 endif
 
 endif
@@ -494,10 +496,10 @@ else
 
 # files (header files are #include "SDL/something.h", so the extra "/SDL"
 # causes a significant problem)
-INCPATH += `sdl-config --cflags | sed 's:/SDL::'`
+INCPATH += $(shell $(SDL_CONFIG) --cflags | sed 's:/SDL::')
 CCOMFLAGS += -DNO_SDL_GLEXT
 # Remove libSDLmain, as its symbols conflict with SDLMain_tmpl.m
-LIBS += `sdl-config --libs | sed 's/-lSDLmain//'` -lpthread
+LIBS += $(shell $(SDL_CONFIG) --libs | sed 's/-lSDLmain//') -lpthread
 DEFS += -DMACOSX_USE_LIBSDL
 endif   # MACOSX_USE_LIBSDL
 
@@ -554,9 +556,9 @@ endif
 endif
 
 ifneq ($(TARGETOS),emscripten)
-INCPATH += `pkg-config --cflags fontconfig`
+INCPATH += $(shell $(PKG_CONFIG) --cflags fontconfig)
 endif
-LIBS += `pkg-config --libs fontconfig`
+LIBS += $(shell $(PKG_CONFIG) --libs fontconfig)
 
 ifeq ($(SDL_LIBVER),sdl2)
 #LIBS += -lSDL2_ttf
@@ -643,8 +645,8 @@ endif   # Win32
 
 ifeq ($(BASE_TARGETOS),os2)
 
-INCPATH += `sdl-config --cflags`
-LIBS += `sdl-config --libs` -lpthread
+INCPATH += $(shell $(SDL_CONFIG) --cflags)
+LIBS += $(shell $(SDL_CONFIG) --libs)
 
 endif # OS2
 
@@ -719,8 +721,8 @@ LIBS += -lX11 -lXinerama
 
 # The newer debugger uses QT
 ifndef NO_USE_QTDEBUG
-INCPATH += `pkg-config QtGui --cflags`
-LIBS += `pkg-config QtGui --libs`
+INCPATH += $(shell $(PKG_CONFIG) QtGui --cflags)
+LIBS += $(shell $(PKG_CONFIG) QtGui --libs)
 endif
 
 # some systems still put important things in a different prefix
